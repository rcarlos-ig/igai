<%- include('partials/header.ejs'); %>

<div class="card w-[320px] sm:w-1/2 lg:w-1/3">
  <div class="w-full">
    <div>
      <h2>Criar nova senha</h2>
      <% if (locals.errors) { %>
      <div class="error <%= errors == '' ? 'hidden' : '' %>">
        <ul>
          <% errors.forEach(error => { %>
          <li><%= error.msg %></li>
          <% }); %>
        </ul>
      </div>
      <% }; %>
      <div>
        <form
          method="post"
          action="<%= `/password-reset/${userId}/${token}` %>"
        >
          <div class="form-line">
            <label for="newPassword"
              >Nova senha<span class="required">*</span></label
            >
            <div>
              <input
                type="password"
                name="newPassword"
                id="newPassword"
                placeholder="Digite a nova senha"
                minlength="4"
                autofocus
              />
              <span
                class="hidden validation-error"
                id="passwordError"
                aria-live="polite"
              ></span>
            </div>
          </div>
          <div class="form-line">
            <label for="password"
              >Confirme a nova senha<span class="required">*</span></label
            >
            <div>
              <input
                type="password"
                name="verifyPassword"
                id="verifyPassword"
                placeholder="Confirme a nova senha"
                minlength="4"
              />
              <span
                class="hidden validation-error"
                id="confirmError"
                aria-live="polite"
              ></span>
            </div>
          </div>
          <div class="flex justify-end gap-4 mt-6">
            <button
              type="button"
              class="button button-tertiary"
              onClick="window.location = '/login'"
            >
              Retornar
            </button>
            <button type="submit" class="button button-primary">
              Criar senha
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<%- include('partials/footer.ejs'); %>

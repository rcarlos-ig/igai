<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js" integrity="sha512-QSkVNOCYLtj73J4hbmVoOV6KVZuMluZlioC+trLpewV8qMjsWqlIQvkn1KGX2StWvPMdWGBqim1xlC8krl1EKQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script type="text/javascript">
  window.onload = function() {
    const canvas = document.getElementById("dashboardChart");
    const ctx = canvas.getContext("2d");

    let labels = "<%= chartLabels %>";
    let data = "<%= chartData %>";
    labels = labels.split(",");
    data = data.split(",");

    const myChart = new Chart(ctx, {
      type: 'doughnut',
      data: {
        labels: labels,
        datasets: [{
          label: 'Avaliações por tipo',
          data: data,
          backgroundColor: [
            "rgba(209, 213, 219, 1)",
            "rgba(5, 77, 165, 1)",
            "rgba(5, 77, 165, .8)",
            "rgba(5, 77, 165, .6)",
            "rgba(5, 77, 165, .4)",
            "rgba(185, 28, 28, 1)",
          ],
          hoverOffset: 20
        }]
      },
      options: {
        layout: {
          autoPadding: true
        },
        plugins: {
          legend: {
            position: "bottom",
            labels: {
              font: {
                family: "'Jost', sans-serif",
                size: 14,
                weight: 600,
                lineHeight: 1.25
              }
            }
          },
        },
      }
    });
    
  }  
</script>